# Trigger Example - Combat Triggers
# Demonstrates ~onAttack and ~onDamaged

Mob:
  Id: trigger_combat_boss
  DisplayName: §c§lCombat Master
  Type: SKELETON
  Health: 2000.0

  AI: {t: AGGRESSIVE, ms: 0.5, fr: 35}

  Skills:
    # Trigger when attacking
    - fire_strike{damage=50} @target ~onAttack 0.8
    - poison_effect @target ~onAttack 0.5

    # Trigger when taking damage
    - counter_attack{damage=30} @trigger ~onDamaged 0.6
    - thorns_effect @trigger ~onDamaged 0.4

    # Trigger when damaged by player with specific conditions
    - rage_mode @self ~onDamaged ?~holding{m=DIAMOND_SWORD} 1.0

    # Heal self when damaged at low health
    - emergency_heal{amount=100} @self ~onDamaged <30% 0.3

  drops:
    - {item: EMERALD, amount: 5, chance: 1.0}
    - {item: ENCHANTED_BOOK, amount: 1, chance: 0.4}
